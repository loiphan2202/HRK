module.exports=[91119,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}},58465,a=>{"use strict";a.s(["default",()=>j],58465);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99570),f=a.i(91119),g=a.i(70106);let h=(0,g.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),i=(0,g.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function j(){let a=(0,d.useRouter)(),g=(0,d.useSearchParams)().get("token"),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!1);async function r(a){try{k(!0);let b=await fetch("/api/tables/check-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to check in");o(c.data.table),q(!0),localStorage.setItem("currentTable",JSON.stringify({tableId:c.data.table.id,tableNumber:c.data.table.number,token:a}))}catch(a){m(a.message||"Failed to check in")}finally{k(!1)}}return((0,c.useEffect)(()=>{g?r(g):(m("No token provided"),k(!1))},[g]),j)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsx)("p",{className:"text-center text-muted-foreground",children:"Checking in..."})})})}):l?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsxs)(f.Card,{className:"w-full max-w-md",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-red-600",children:[(0,b.jsx)(h,{className:"h-5 w-5"}),"Check-in Failed"]}),(0,b.jsx)(f.CardDescription,{children:l})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)(e.Button,{onClick:()=>a.push("/"),className:"w-full",children:"Go to Home"})})]})}):p&&n?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsxs)(f.Card,{className:"w-full max-w-md",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-green-600",children:[(0,b.jsx)(i,{className:"h-5 w-5"}),"Check-in Successful"]}),(0,b.jsxs)(f.CardDescription,{children:["You have checked in to Table ",n.number]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)(e.Button,{onClick:function(){a.push("/")},className:"w-full",children:"Start Ordering"})})]})}):null}}];

//# sourceMappingURL=src_c2b84633._.js.map