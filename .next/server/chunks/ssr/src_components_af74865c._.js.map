{"version":3,"sources":["turbopack:///[project]/src/components/ui/table.tsx","turbopack:///[project]/src/components/orders/order-list.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\"\r\n\r\ninterface OrderProduct {\r\n  id: string\r\n  orderId: string\r\n  productId: string\r\n  quantity: number\r\n  product?: {\r\n    name: string\r\n    price: number\r\n  } | null\r\n}\r\n\r\ninterface Order {\r\n  id: string\r\n  userId: string | null\r\n  total: number\r\n  createdAt: string\r\n  user: {\r\n    name: string | null\r\n    email: string\r\n  } | null\r\n  orderProducts: OrderProduct[]\r\n}\r\n\r\nasync function getOrders(): Promise<Order[]> {\r\n  const res = await fetch(\"/api/orders\")\r\n  const data = await res.json()\r\n  \r\n  if (!res.ok || !data.success) {\r\n    console.error('Error fetching orders:', data.error);\r\n    throw new Error(data.error?.message || \"Failed to fetch orders\")\r\n  }\r\n  \r\n  return data.data\r\n}\r\n\r\nexport function OrderList() {\r\n  const [orders, setOrders] = useState<Order[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    loadOrders()\r\n  }, [])\r\n\r\n  async function loadOrders() {\r\n    try {\r\n      setLoading(true)\r\n      const data = await getOrders()\r\n      setOrders(data)\r\n    } catch (error) {\r\n      console.error('Failed to load orders:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"rounded-md border\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>Order ID</TableHead>\r\n              <TableHead>Customer</TableHead>\r\n              <TableHead>Products</TableHead>\r\n              <TableHead className=\"text-right\">Total</TableHead>\r\n              <TableHead className=\"text-right\">Date</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {Array.from({ length: 5 }).map((_, i) => (\r\n              <TableRow key={`loading-${i}`} className=\"animate-pulse\">\r\n                <TableCell>\r\n                  <div className=\"h-4 w-[100px] rounded bg-muted\" />\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"h-4 w-[150px] rounded bg-muted\" />\r\n                    <div className=\"h-4 w-[200px] rounded bg-muted\" />\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className=\"h-4 w-[300px] rounded bg-muted\" />\r\n                </TableCell>\r\n                <TableCell className=\"text-right\">\r\n                  <div className=\"h-4 w-[80px] rounded bg-muted ml-auto\" />\r\n                </TableCell>\r\n                <TableCell className=\"text-right\">\r\n                  <div className=\"h-4 w-[100px] rounded bg-muted ml-auto\" />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"rounded-md border\">\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead>Order ID</TableHead>\r\n            <TableHead>Customer</TableHead>\r\n            <TableHead>Products</TableHead>\r\n            <TableHead className=\"text-right\">Total</TableHead>\r\n            <TableHead className=\"text-right\">Date</TableHead>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {orders.length === 0 ? (\r\n            <TableRow>\r\n              <TableCell colSpan={5} className=\"text-center text-muted-foreground\">\r\n                No orders found.\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : (\r\n            orders.map((order) => (\r\n              <TableRow key={order.id}>\r\n                <TableCell className=\"font-medium\">{order.id}</TableCell>\r\n                <TableCell>\r\n                  {order.user ? (\r\n                    <div className=\"space-y-1\">\r\n                      <p className=\"font-medium\">{order.user.name || \"Guest\"}</p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        {order.user.email}\r\n                      </p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"space-y-1\">\r\n                      <p className=\"font-medium text-muted-foreground\">Guest</p>\r\n                      <p className=\"text-sm text-muted-foreground\">\r\n                        No account\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className=\"space-y-1\">\r\n                    {order.orderProducts && order.orderProducts.length > 0 ? (\r\n                      order.orderProducts.map((op) => (\r\n                        <div key={op.id} className=\"text-sm\">\r\n                          {op.quantity}x {op.product?.name || \"Unknown\"} (${op.product?.price?.toFixed(2) || \"0.00\"})\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <span className=\"text-sm text-muted-foreground\">No products</span>\r\n                    )}\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell className=\"text-right\">\r\n                  ${order.total.toFixed(2)}\r\n                </TableCell>\r\n                <TableCell className=\"text-right\">\r\n                  {new Date(order.createdAt).toLocaleDateString()}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}