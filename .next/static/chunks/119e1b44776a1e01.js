(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>s,"CardDescription",()=>l,"CardFooter",()=>i,"CardHeader",()=>n,"CardTitle",()=>o]);var t=e.i(43476),a=e.i(75157);function r(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...n})}function n(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...n})}function o(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",r),...n})}function l(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",r),...n})}function s(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",r),...n})}function i(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",r),...n})}},93479,e=>{"use strict";e.s(["Input",()=>r]);var t=e.i(43476),a=e.i(75157);function r(e){let{className:r,type:n,...o}=e;return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...o})}},10204,e=>{"use strict";e.s(["Label",()=>l],10204);var t=e.i(43476),a=e.i(71645),r=e.i(48425),n=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var o=e.i(75157);function l(e){let{className:a,...r}=e;return(0,t.jsx)(n,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},84774,e=>{"use strict";e.s(["Table",()=>r,"TableBody",()=>o,"TableCell",()=>i,"TableHead",()=>s,"TableHeader",()=>n,"TableRow",()=>l]);var t=e.i(43476),a=e.i(75157);function r(e){let{className:r,...n}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",r),...n})})}function n(e){let{className:r,...n}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",r),...n})}function o(e){let{className:r,...n}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",r),...n})}function l(e){let{className:r,...n}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...n})}function s(e){let{className:r,...n}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...n})}function i(e){let{className:r,...n}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...n})}},76639,26999,e=>{"use strict";e.s(["Dialog",()=>el,"DialogContent",()=>ec,"DialogDescription",()=>eg,"DialogFooter",()=>ef,"DialogHeader",()=>eu,"DialogTitle",()=>ep,"DialogTrigger",()=>es],76639);var t=e.i(43476);e.s(["Close",()=>er,"Content",()=>ee,"Description",()=>ea,"Overlay",()=>$,"Portal",()=>Y,"Root",()=>Z,"Title",()=>et,"Trigger",()=>X,"WarningProvider",()=>W,"createDialogScope",()=>v],26999);var a=e.i(71645),r=e.i(81140),n=e.i(20783),o=e.i(30030),l=e.i(10772),s=e.i(69340),i=e.i(26330),d=e.i(65491),c=e.i(74606),u=e.i(96626),f=e.i(48425),p=e.i(3536),g=e.i(85369),x=e.i(86312),m=e.i(91918),b="Dialog",[h,v]=(0,o.createContextScope)(b),[j,y]=h(b),w=e=>{let{__scopeDialog:r,children:n,open:o,defaultOpen:i,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),f=a.useRef(null),[p,g]=(0,s.useControllableState)({prop:o,defaultProp:null!=i&&i,onChange:d,caller:b});return(0,t.jsx)(j,{scope:r,triggerRef:u,contentRef:f,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:p,onOpenChange:g,onOpenToggle:a.useCallback(()=>g(e=>!e),[g]),modal:c,children:n})};w.displayName=b;var N="DialogTrigger",C=a.forwardRef((e,a)=>{let{__scopeDialog:o,...l}=e,s=y(N,o),i=(0,n.useComposedRefs)(a,s.triggerRef);return(0,t.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":U(s.open),...l,ref:i,onClick:(0,r.composeEventHandlers)(e.onClick,s.onOpenToggle)})});C.displayName=N;var D="DialogPortal",[T,R]=h(D,{forceMount:void 0}),k=e=>{let{__scopeDialog:r,forceMount:n,children:o,container:l}=e,s=y(D,r);return(0,t.jsx)(T,{scope:r,forceMount:n,children:a.Children.map(o,e=>(0,t.jsx)(u.Presence,{present:n||s.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:l,children:e})}))})};k.displayName=D;var P="DialogOverlay",E=a.forwardRef((e,a)=>{let r=R(P,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=y(P,e.__scopeDialog);return l.modal?(0,t.jsx)(u.Presence,{present:n||l.open,children:(0,t.jsx)(I,{...o,ref:a})}):null});E.displayName=P;var F=(0,m.createSlot)("DialogOverlay.RemoveScroll"),I=a.forwardRef((e,a)=>{let{__scopeDialog:r,...n}=e,o=y(P,r);return(0,t.jsx)(g.RemoveScroll,{as:F,allowPinchZoom:!0,shards:[o.contentRef],children:(0,t.jsx)(f.Primitive.div,{"data-state":U(o.open),...n,ref:a,style:{pointerEvents:"auto",...n.style}})})}),O="DialogContent",M=a.forwardRef((e,a)=>{let r=R(O,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=y(O,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:n||l.open,children:l.modal?(0,t.jsx)(S,{...o,ref:a}):(0,t.jsx)(_,{...o,ref:a})})});M.displayName=O;var S=a.forwardRef((e,o)=>{let l=y(O,e.__scopeDialog),s=a.useRef(null),i=(0,n.useComposedRefs)(o,l.contentRef,s);return a.useEffect(()=>{let e=s.current;if(e)return(0,x.hideOthers)(e)},[]),(0,t.jsx)(H,{...e,ref:i,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,r.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),_=a.forwardRef((e,r)=>{let n=y(O,e.__scopeDialog),o=a.useRef(!1),l=a.useRef(!1);return(0,t.jsx)(H,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,r;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(o.current||null==(r=n.triggerRef.current)||r.focus(),t.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:t=>{var a,r;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let s=t.target;(null==(r=n.triggerRef.current)?void 0:r.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),H=a.forwardRef((e,r)=>{let{__scopeDialog:o,trapFocus:l,onOpenAutoFocus:s,onCloseAutoFocus:c,...u}=e,f=y(O,o),g=a.useRef(null),x=(0,n.useComposedRefs)(r,g);return(0,p.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:s,onUnmountAutoFocus:c,children:(0,t.jsx)(i.DismissableLayer,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":U(f.open),...u,ref:x,onDismiss:()=>f.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K,{titleId:f.titleId}),(0,t.jsx)(J,{contentRef:g,descriptionId:f.descriptionId})]})]})}),A="DialogTitle",B=a.forwardRef((e,a)=>{let{__scopeDialog:r,...n}=e,o=y(A,r);return(0,t.jsx)(f.Primitive.h2,{id:o.titleId,...n,ref:a})});B.displayName=A;var z="DialogDescription",L=a.forwardRef((e,a)=>{let{__scopeDialog:r,...n}=e,o=y(z,r);return(0,t.jsx)(f.Primitive.p,{id:o.descriptionId,...n,ref:a})});L.displayName=z;var q="DialogClose",Q=a.forwardRef((e,a)=>{let{__scopeDialog:n,...o}=e,l=y(q,n);return(0,t.jsx)(f.Primitive.button,{type:"button",...o,ref:a,onClick:(0,r.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function U(e){return e?"open":"closed"}Q.displayName=q;var V="DialogTitleWarning",[W,G]=(0,o.createContext)(V,{contentName:O,titleName:A,docsSlug:"dialog"}),K=e=>{let{titleId:t}=e,r=G(V),n="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},J=e=>{let{contentRef:t,descriptionId:r}=e,n=G("DialogDescriptionWarning"),o="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return a.useEffect(()=>{var e;let a=null==(e=t.current)?void 0:e.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(o))},[o,t,r]),null},Z=w,X=C,Y=k,$=E,ee=M,et=B,ea=L,er=Q;let en=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var eo=e.i(75157);function el(e){let{...a}=e;return(0,t.jsx)(Z,{"data-slot":"dialog",...a})}function es(e){let{...a}=e;return(0,t.jsx)(X,{"data-slot":"dialog-trigger",...a})}function ei(e){let{...a}=e;return(0,t.jsx)(Y,{"data-slot":"dialog-portal",...a})}function ed(e){let{className:a,...r}=e;return(0,t.jsx)($,{"data-slot":"dialog-overlay",className:(0,eo.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...r})}function ec(e){let{className:a,children:r,showCloseButton:n=!0,...o}=e;return(0,t.jsxs)(ei,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ed,{}),(0,t.jsxs)(ee,{"data-slot":"dialog-content",className:(0,eo.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...o,children:[r,n&&(0,t.jsxs)(er,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(en,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eu(e){let{className:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,eo.cn)("flex flex-col gap-2 text-center sm:text-left",a),...r})}function ef(e){let{className:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,eo.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...r})}function ep(e){let{className:a,...r}=e;return(0,t.jsx)(et,{"data-slot":"dialog-title",className:(0,eo.cn)("text-lg leading-none font-semibold",a),...r})}function eg(e){let{className:a,...r}=e;return(0,t.jsx)(ea,{"data-slot":"dialog-description",className:(0,eo.cn)("text-muted-foreground text-sm",a),...r})}},87486,e=>{"use strict";e.s(["Badge",()=>o]);var t=e.i(43476),a=e.i(25913),r=e.i(75157);let n=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:o,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)(n({variant:o}),a),...l})}},18819,e=>{"use strict";e.s(["default",()=>g],18819);var t=e.i(43476),a=e.i(71645),r=e.i(4071),n=e.i(18566),o=e.i(19455),l=e.i(15288),s=e.i(93479),i=e.i(10204),d=e.i(84774),c=e.i(87486),u=e.i(7233);let f=(0,e.i(75254).default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var p=e.i(76639);function g(){let{isAdmin:e,isLoading:g}=(0,r.useAuth)(),x=(0,n.useRouter)(),[m,b]=(0,a.useState)([]),[h,v]=(0,a.useState)(!0),[j,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(""),[C,D]=(0,a.useState)(null);async function T(){try{v(!0);let e=await fetch("/api/tables"),t=await e.json();b(t.data||[])}catch(e){console.error("Failed to load tables:",e)}finally{v(!1)}}async function R(){try{if(!(await fetch("/api/tables",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({number:parseInt(w)})})).ok)throw Error("Failed to create table");N(""),y(!1),await T()}catch(e){console.error("Failed to create table:",e),alert("Failed to create table. Table number may already exist.")}}async function k(e){try{D(e);let t=await fetch("/api/tables/".concat(e,"/qr"),{method:"POST"});if(!t.ok)throw Error("Failed to generate QR code");await t.json(),await T()}catch(e){console.error("Failed to generate QR code:",e),alert("Failed to generate QR code")}finally{D(null)}}return((0,a.useEffect)(()=>{g||e()||x.push("/")},[g,e,x]),(0,a.useEffect)(()=>{T()},[]),g||!e())?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})}):(0,t.jsxs)("div",{className:"flex flex-col space-y-8 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Tables Management"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage restaurant tables and generate QR codes"})]}),(0,t.jsxs)(p.Dialog,{open:j,onOpenChange:y,children:[(0,t.jsx)(p.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{children:[(0,t.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Add Table"]})}),(0,t.jsxs)(p.DialogContent,{children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:"Add New Table"}),(0,t.jsx)(p.DialogDescription,{children:"Create a new table for the restaurant"})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"tableNumber",children:"Table Number"}),(0,t.jsx)(s.Input,{id:"tableNumber",type:"number",placeholder:"Enter table number",value:w,onChange:e=>N(e.target.value),min:"1"})]})}),(0,t.jsxs)(p.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,t.jsx)(o.Button,{onClick:R,disabled:!w,children:"Create"})]})]})]})]}),h?(0,t.jsx)(l.Card,{children:(0,t.jsx)(l.CardContent,{className:"p-6",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading tables..."})})}):(0,t.jsx)(l.Card,{children:(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{children:(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableHead,{children:"Table Number"}),(0,t.jsx)(d.TableHead,{children:"Status"}),(0,t.jsx)(d.TableHead,{children:"QR Code"}),(0,t.jsx)(d.TableHead,{children:"Actions"})]})}),(0,t.jsx)(d.TableBody,{children:0===m.length?(0,t.jsx)(d.TableRow,{children:(0,t.jsx)(d.TableCell,{colSpan:4,className:"text-center text-muted-foreground",children:"No tables found"})}):m.map(e=>(0,t.jsxs)(d.TableRow,{children:[(0,t.jsxs)(d.TableCell,{className:"font-medium",children:["Table ",e.number]}),(0,t.jsx)(d.TableCell,{children:(0,t.jsx)(c.Badge,{className:(e=>{switch(e){case"AVAILABLE":return"bg-green-500";case"OCCUPIED":return"bg-red-500";case"RESERVED":return"bg-yellow-500";default:return"bg-gray-500"}})(e.status),children:e.status})}),(0,t.jsx)(d.TableCell,{children:e.qrCode?(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("img",{src:e.qrCode,alt:"QR Code for Table ".concat(e.number),className:"w-16 h-16 object-contain border rounded"})}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"Not generated"})}),(0,t.jsx)(d.TableCell,{children:(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>k(e.id),disabled:C===e.id,children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),C===e.id?"Generating...":"Generate QR"]})})]},e.id))})]})})]})}}]);