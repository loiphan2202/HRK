(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>l,"CardDescription",()=>n,"CardFooter",()=>i,"CardHeader",()=>s,"CardTitle",()=>c]);var t=e.i(43476),a=e.i(75157);function r(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...s})}function s(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function c(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",r),...s})}function n(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",r),...s})}function l(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",r),...s})}function i(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",r),...s})}},22132,e=>{"use strict";e.s(["default",()=>d],22132);var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(19455),c=e.i(15288),n=e.i(75254);let l=(0,n.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),i=(0,n.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function d(){let e=(0,r.useRouter)(),n=(0,r.useSearchParams)().get("token"),[d,o]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1);async function C(e){try{o(!0);let t=await fetch("/api/tables/check-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to check in");h(a.data.table),j(!0),localStorage.setItem("currentTable",JSON.stringify({tableId:a.data.table.id,tableNumber:a.data.table.number,token:e}))}catch(e){m(e.message||"Failed to check in")}finally{o(!1)}}return((0,a.useEffect)(()=>{n?C(n):(m("No token provided"),o(!1))},[n]),d)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)(c.Card,{className:"w-full max-w-md",children:(0,t.jsx)(c.CardContent,{className:"p-6",children:(0,t.jsx)("p",{className:"text-center text-muted-foreground",children:"Checking in..."})})})}):u?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(c.Card,{className:"w-full max-w-md",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsxs)(c.CardTitle,{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(l,{className:"h-5 w-5"}),"Check-in Failed"]}),(0,t.jsx)(c.CardDescription,{children:u})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)(s.Button,{onClick:()=>e.push("/"),className:"w-full",children:"Go to Home"})})]})}):f&&x?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsxs)(c.Card,{className:"w-full max-w-md",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsxs)(c.CardTitle,{className:"flex items-center gap-2 text-green-600",children:[(0,t.jsx)(i,{className:"h-5 w-5"}),"Check-in Successful"]}),(0,t.jsxs)(c.CardDescription,{children:["You have checked in to Table ",x.number]})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)(s.Button,{onClick:function(){e.push("/")},className:"w-full",children:"Start Ordering"})})]})}):null}}]);